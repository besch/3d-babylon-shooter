<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sound Test</title>
    <style>
      button {
        display: block;
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
      }
    </style>
  </head>
  <body>
    <h1>Sound Test Page</h1>
    <p>Click the buttons below to test the sound files:</p>

    <button id="shootBtn">Play Shoot Sound</button>
    <button id="jumpBtn">Play Jump Sound</button>
    <button id="runBtn">Play Run Sound</button>
    <button id="dieBtn">Play Die Sound</button>

    <div id="status"></div>

    <script>
      // Function to log status
      function log(message) {
        const status = document.getElementById("status");
        const newLine = document.createElement("div");
        newLine.textContent = message;
        status.appendChild(newLine);
        console.log(message);
      }

      // Function to play sound
      function playSound(soundFile) {
        try {
          log(`Attempting to play: ${soundFile}`);

          // Create audio element
          const audio = new Audio(soundFile);

          // Log when sound is loaded
          audio.addEventListener("canplaythrough", () => {
            log(`Sound loaded: ${soundFile}`);
          });

          // Log when sound starts playing
          audio.addEventListener("play", () => {
            log(`Sound started playing: ${soundFile}`);
          });

          // Log when sound completes
          audio.addEventListener("ended", () => {
            log(`Sound playback ended: ${soundFile}`);
          });

          // Log any errors
          audio.addEventListener("error", (e) => {
            log(`Error playing sound ${soundFile}: ${e.target.error}`);
          });

          // Play the sound
          const playPromise = audio.play();

          if (playPromise !== undefined) {
            playPromise
              .then(() => {
                log(`Sound play() promise resolved for: ${soundFile}`);
              })
              .catch((error) => {
                log(`Sound play() promise rejected for ${soundFile}: ${error}`);
              });
          }
        } catch (error) {
          log(`Exception playing sound ${soundFile}: ${error}`);
        }
      }

      // Button click handlers
      document.getElementById("shootBtn").addEventListener("click", () => {
        playSound("/sounds/shoot.mp3");
      });

      document.getElementById("jumpBtn").addEventListener("click", () => {
        playSound("/sounds/jump.mp3");
      });

      document.getElementById("runBtn").addEventListener("click", () => {
        playSound("/sounds/run.mp3");
      });

      document.getElementById("dieBtn").addEventListener("click", () => {
        playSound("/sounds/die.mp3");
      });

      // Initial log
      log("Sound test page loaded. Click buttons to play sounds.");
    </script>
  </body>
</html>
